
import( "Utilities.msg" );

int SelectDigit( MSGDummy )
{
	while ( true )
	{
		MSG_SELECT( MSGDummy, Select0to4Dialog, 0 );
		int digit = GET_MSG_SELECTION( 0 );
		if ( digit < 5 ) //0 through 4
			return digit;
		if ( digit == 5 )
		{
			MSG_SELECT( MSGDummy, Select5to9Dialog, 0 );
			digit = GET_MSG_SELECTION( 0 ) + 5;
			if ( digit < 10 )
				return digit; //5 through 9 or back
			else if (digit == 16)
			{	
				digit = -1; //exit
				break;
			}
		}
		else if (digit == 11)
		{
			digit = -1; //exit
			break;
		}
	}
	return -1;
}

int SelectNumber( int digitCount )
{
	int number = 0;
	
	for ( int i = 0; i < digitCount; i++ )
	{
		int digit = SelectDigit(MSGDummy);
		if (digit == -1)
			return -1;
		number *= 10;
		number += digit;
	}
	return number;
}

int SelectYesNo()
{
	MSG_SELECT( MSGDummy, SelectYesNo, 0 );
	int selection = GET_MSG_SELECTION( 0 );
	return selection;
}

int SelectNoYes()
{
	MSG_SELECT( MSGDummy, SelectOffOn, 0 );
	int selection = GET_MSG_SELECTION( 0 );
	return selection;
}

int SelectOnOff()
{
	MSG_SELECT( MSGDummy, SelectOnOff, 0 );
	int selection = GET_MSG_SELECTION( 0 );
	return selection;
}

int SelectOffOn()
{
	MSG_SELECT( MSGDummy, SelectOffOn, 0 );
	int selection = GET_MSG_SELECTION( 0 );
	return selection;
}

void DisplayMessagePrompt( int messageId )
{
	MSG_WND_DSP(); 
	MSG( messageId ); 
	MSG_WND_CLS();
}

int SelectNumberPrompt( int messageId, int digits )
{
	DisplayMessagePrompt( messageId );
	int i = SelectNumber( digits );
	return i;
}

int SelectYesNoPrompt( int promptMessageId )
{
	MSG_WND_DSP(); 
	MSG( promptMessageId );
	int selection = SelectYesNo();
	MSG_WND_CLS();
	return selection;
}

int SelectNoYesPrompt( int promptMessageId )
{
	MSG_WND_DSP(); 
	MSG( promptMessageId );
	int selection = SelectNoYes();
	MSG_WND_CLS();
	return selection;
}

int SelectOnOffPrompt( int promptMessageId )
{
	MSG_WND_DSP(); 
	MSG( promptMessageId );
	int selection = SelectOnOff();
	MSG_WND_CLS();
	return selection;
}

int SelectOffOnPrompt( int promptMessageId )
{
	MSG_WND_DSP(); 
	MSG( promptMessageId );
	int selection = SelectOffOn();
	MSG_WND_CLS();
	return selection;
}